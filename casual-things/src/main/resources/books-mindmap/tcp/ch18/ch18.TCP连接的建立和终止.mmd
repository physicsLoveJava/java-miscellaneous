Mind Map generated by NB MindMap plugin   
> __version__=`1.1`,showJumps=`true`
---

# tcp

## 建立连接（三次握手）

### 1\.请求端发送SYN，指明需要连接的服务器端口，以及初始序号ISN

### 2\.服务器发挥包含服务器的初始序号SYN报文段做为应答，同时，将确认序号设置为客户的ISN\+1，<br/>作为对客户SYN的确认

### 3\.客户必须将确认序号设置为服务器的ISN\+1以对服务器的SYN报文段进行确认

## 连接终止（四次挥手）

### 1\.客户端关闭连接，发送一个FIN，用来关闭从客户端到服务器的数据传送

### 2\.服务端接受到FIN，它发回一个ACK，确认序号为收到的序号加1

### 3\.同时TCP服务器还向应用程序发送一个文件结束符，接着服务器关闭他的连接，发送一个FIN

### 4\.客户必须发送一个确认，并将确认序号设置为收到的序号\+1

## 打开
> leftSide=`true`


### 主动打开

#### 发送第一个SYN

### 被动打开
> leftSide=`true`


#### 接受SYN并发送下一个SYN的

## 半关闭特性
> leftSide=`true`


### 需要四次挥手

### 设置定时器，以关闭无线等待

## 半打开
> leftSide=`true`


### 客户端机器突然断电，而服务器不传输数据是不知道对方是否还存在连接的

## 同时打开
> leftSide=`true`


### 四次连接，每一端既是客户又是服务器

## 同时关闭
> leftSide=`true`


### 与正常关闭一样
