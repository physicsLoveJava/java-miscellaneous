
##Synchronization
同步的主要作用：原子性保持和内存的可见性

操作顺序的重排序可能导致程序的执行顺序和代码反应出来的结果并不相同

###64位操作的非原子性

###可见性和Volatile变量
当线程A首先写入volatile变量并且线程B随后读取该变量时，
在写入volatile变量之前对A课件的所有变量，在B读取了volatile变量后，对B也是可见的。
用于标识一些重要的程序生命周期事件 的发生。

###发布和逃逸
发布，使得对象能够在当前作用域之外的代码中使用，
逃逸，不应该发布的对象被发布。（禁止在构造函数中对this引用进行溢出）

###线程封闭
1. Ad-hoc线程封闭，线程封闭完全由程序控制
2. 栈封闭
3. ThreadLocal,

### 不变性
1. 对象创建以后不可以修改
2. 所有的域都为final字段
3. 构造过程没有出现逃逸

### 安全发布

1. 在静态初始化函数中初始化一个对象引用
2. 将对象的引用保存在volatile域中或者AtomicReference对象中
3. 将对象的引用保存在某个正确构造对象的final类型域中
4. 将对象的引用保存在一个由锁保护的域中

